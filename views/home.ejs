<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html" charset="UTF-8" />
    <title>GPS</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="/stylesheets/styles.css"
      media="screen"
    />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="viewport" content="height=device-height, initial-scale=1.0" />
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
  </head>
  <body>
    <h1>LAT: <span id="latitud"></span></h1>
    <h1>LONG: <span id="longitud"></span></h1>
    <h1>FECHA: <span id="fecha"></span></h1>
    <h1>HORA: <span id="hora"></span></h1>
    <script>
      setInterval(() => {
        $.ajax("/prueba/api/valor", {
          method: "GET",
          success: function (data) {
            // Establecer el color de fondo del elemento

            $("#latitud").text(data.latitud);
            $("#latitud").css(
              "color",
              "#" + Math.floor(Math.random() * 16777215).toString(16)
            );
            $("#longitud").text(data.longitud);
            $("#longitud").css(
              "color",
              "#" + Math.floor(Math.random() * 16777215).toString(16)
            );
            var fecha = new Date(data.timestamp); // Convertir el timestamp a milisegundos y crear un objeto Date
            var fechaLegible = fecha.toLocaleString();
            var fechas = fechaLegible.split(",");
            $("#hora").text(fechas[1]);
            $("#hora").css(
              "color",
              "#" + Math.floor(Math.random() * 16777215).toString(16)
            );
            $("#fecha").text(fechas[0]);
            $("#fecha").css(
              "color",
              "#" + Math.floor(Math.random() * 16777215).toString(16)
            );
          },
        });
      }, 6000);
    </script>
  </body>
</html>
